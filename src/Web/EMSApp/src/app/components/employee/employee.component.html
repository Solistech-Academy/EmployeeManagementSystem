<form
  [formGroup]="employeeDetailForm"
  *ngIf="employeeDetailForm"
  (submit)="saveEmployee()"
  class="employee-form"
>
  <div class="section">
    <h2>Add Employee</h2>
    <div class="form-group mt-4 mb-4">
      <label for="firstName">First Name</label>
      <input
        id="firstName"
        type="text"
        pInputText
        formControlName="firstName"
        [ngClass]="{
          'form-control': true,
          'is-invalid':
            employeeDetailForm.get('firstName').invalid &&
            employeeDetailForm.get('firstName').touched
        }"
        class="p-inputtext-sm"
      />
      <small
        *ngIf="
          employeeDetailForm.get('firstName').invalid &&
          employeeDetailForm.get('firstName').touched
        "
        class="invalid-feedback"
      >
        First Name is required
      </small>
    </div>

    <div class="form-group mt-4">
      <label for="lastName">Last Name</label>
      <input
        [style]="{ width: '100%' }"
        class="p-inputtext-sm"
        id="lastName"
        type="text"
        pInputText
        formControlName="lastName"
        [ngClass]="{
          'form-control': true,
          'is-invalid':
            employeeDetailForm.get('lastName').invalid &&
            employeeDetailForm.get('lastName').touched
        }"
      />
      <small
        *ngIf="
          employeeDetailForm.get('lastName').invalid &&
          employeeDetailForm.get('lastName').touched
        "
        class="invalid-feedback"
      >
        Last Name is required
      </small>
    </div>

    <div class="mt-4">
      <label for="address">Address</label>
      <input
        [style]="{ width: '100%' }"
        class="p-inputtext-sm"
        id="address"
        type="text"
        pInputText
        formControlName="address"
        [ngClass]="{
          'form-control': true,
          'is-invalid':
            employeeDetailForm.get('address').invalid &&
            employeeDetailForm.get('address').touched
        }"
      />
      <small
        *ngIf="
          employeeDetailForm.get('address').invalid &&
          employeeDetailForm.get('address').touched
        "
        class="invalid-feedback"
      >
        Address is required
      </small>
    </div>

    <div class="form-group mt-4">
      <label for="mobileNumber">Mobile Number</label>
      <input
        [style]="{ width: '100%' }"
        class="p-inputtext-sm"
        id="mobileNumber"
        type="text"
        pInputText
        formControlName="mobileNumber"
        [ngClass]="{
          'form-control': true,
          'is-invalid':
            employeeDetailForm.get('mobileNumber').invalid &&
            employeeDetailForm.get('mobileNumber').touched
        }"
        (keyup)="validatePhoneNumber()"
      />
      <div
        *ngIf="
          employeeDetailForm.get('mobileNumber').invalid &&
          employeeDetailForm.get('mobileNumber').touched
        "
      >
        <small
          *ngIf="employeeDetailForm.get('mobileNumber').errors?.['required']"
          class="text-danger"
        >
          Mobile Number is required
        </small>

        <small
          *ngIf="employeeDetailForm.get('mobileNumber').hasError('isExist')"
          class="text-danger"
        >
          Mobile number already exists
        </small>
      </div>
    </div>

    <div class="form-group mt-4">
      <label for="email">Email</label>
      <input
        [style]="{ width: '100%' }"
        class="p-inputtext-sm"
        id="email"
        type="email"
        pInputText
        formControlName="email"
        [ngClass]="{
          'form-control': true,
          'is-invalid':
            employeeDetailForm.get('email').invalid &&
            employeeDetailForm.get('email').touched
        }"
        (keyup)="validateEmail()"
      />
      <div
        *ngIf="
          employeeDetailForm.get('email').invalid &&
          employeeDetailForm.get('email').touched
        "
        class="invalid-feedback"
      >
        <small
          *ngIf="employeeDetailForm.get('email').errors?.['required']"
          class="text-danger"
          >Email is required</small
        >
        <small
          *ngIf="employeeDetailForm.get('email').errors?.['email']"
          class="text-danger"
          >Enter a valid email</small
        >
        <small
          *ngIf="employeeDetailForm.get('email').hasError('isExist')"
          class="text-danger"
          >Email is already exist</small
        >
      </div>
    </div>

    <div class="form-group mt-4">
      <label for="birthday">Birthday</label><br />
      <p-calendar formControlName="birthday" [showIcon]="true"> </p-calendar>
    </div>

    <div class="form-group mt-4">
      <label for="departments">Departments</label>
      <p-multiSelect
        [style]="{ width: '100%', height: '40px' }"
        class="p-inputtext-sm"
        [options]="departments"
        formControlName="departments"
        optionLabel="name"
        optionValue="id"
        display="chip"
      >
      </p-multiSelect>
    </div>
    <button type="submit" class="btn btn-primary mt-3">Save</button>
  </div>
</form>
